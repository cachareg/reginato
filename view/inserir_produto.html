<!DOCTYPE html>
<html lang="en">
<head>
	
	<!-- start: Meta -->
	<meta charset="utf-8">
	<title>SimpliQ - Flat & Responsive Bootstrap Admin Template</title>
	<meta name="description" content="SimpliQ - Flat & Responsive Bootstrap Admin Template.">
	<meta name="author" content="Łukasz Holeczek">
	<meta name="keyword" content="SimpliQ, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
	<!-- end: Meta -->
	
	<!-- start: Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- end: Mobile Specific -->
	
	<!-- start: CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap-responsive.min.css" rel="stylesheet">
	<link href="css/style.min.css" rel="stylesheet">
	<link href="css/style-responsive.min.css" rel="stylesheet">
	<link href="css/retina.css" rel="stylesheet">
	<!-- end: CSS -->
	

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<link id="ie-style" href="css/ie.css" rel="stylesheet">
	<![endif]-->
	
	<!--[if IE 9]>
		<link id="ie9style" href="css/ie9.css" rel="stylesheet">
	<![endif]-->
	
	<!-- start: Favicon and Touch Icons -->
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
	<link rel="shortcut icon" href="ico/favicon.png">
	<!-- end: Favicon and Touch Icons -->	
	

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script>
	$( function() {
	$( "#dialog" ).dialog();
	 } );
	 </script>

</head>

<body scroll="no" style=" height:100%; display:block; overflow:auto">

	<div id="inserir_produto" scroll="no" style="display:block; overflow:auto">

			<div class="row-fluid" style=" display:block; overflow:auto">		
				<div class="box span12">
					<div class="box-header" data-original-title >
							<h2><i class="icon-user"></i><span class="break"></span>Novo</h2>
					</div>

					<div class="box-content" >

						<form class="form-horizontal" >

							<fieldset id="campos">


								<div class="control-group">
									<label class="control-label" for="focusedInput">Nome </label>
									<div class="controls">
								  		<input class="input-xlarge focused" id="nome" type="text" value="">
									</div>
								</div>		
								<div class="control-group">
									<label class="control-label" for="focusedInput">Adicionar Fotos </label>
									<div class="controls">
										<!--<input type="file" onchange="savePics()" id="arquivos" name="files" multiple="" /> -->

											<input type="file" id="arquivos" onchange="loadname(this,'previewimg')" name="files" webkitdirectory multiple />
											<ul id="listing"></ul>
											<div class="fotos">
											</div>
									</div>
									
								</div>	
							 	<div class="control-group">
								<label class="control-label" for="selectError">Fábrica</label>

								<div class="controls">
								  <select id="selectError" data-rel="chosen">
									<option>Green House</option>
									<option>Tissot</option>
								  </select>	
								
							  	</div>
							  </div>
							  <div class="control-group">
							  <div class="controls">
								  <label class="checkbox inline">
									<input type="checkbox" id="inlineCheckbox2" value="option5"> Lançamento
								  </label>
								  <label class="checkbox inline">
									<input type="checkbox" id="inlineCheckbox2" checked selected="true" value="option5"> Ativo
								  </label>
								</div>	
								</div>
								<div class="control-group">
									<label class="control-label" for="selectError">Categoria</label>

									<div class="controls">
									  <select id="selectError" data-rel="chosen">
										<option>Mesa de Alumínio</option>
										<option>Cadeira de Tela</option>
									  </select>	
									  <button class="btn"  onclick="addRowCat()" type="button">OK</button>
									</div>
								</div>
								
								<div  class="row-fluid" id="tabela" style="  float:inherit; marging-top:20px; padding-top:20px; display: none">
									<div class="box span6">
										<div class="box-header">
											<h2><i class="icon-align-justify"></i><span class="break"></span>Categorias</h2>
										</div>
										<div class="box-content" >
											<table class="table" id="tabela_categorias">
											  <thead>
												  <tr>
													  <th>Categoria</th>
													  <th>Excluir</th>
													                                    
												  </tr>
											  </thead>   
											  <tbody>
												                         
											  </tbody>
											</table>  
										</div>     
									</div>
							  	</div>
							  	<div class="control-group">
									<label class="control-label" for="selectError2">Características</label>
									<div class="controls">
								  		<select id="selectError2" data-rel="chosen">
											<option>Cor do Alumínio</option>
											<option>Tela</option>
								  		</select>
								   		<button class="btn"  onclick="addRowCar()" type="button">OK</button>
									</div>
								</div>
									<div  class="row-fluid" id="tabela2" style="  float:inherit; marging-top:20px; padding-top:20px; display: none">
										<div class="box span6">
											<div class="box-header">
												<h2><i class="icon-align-justify"></i><span class="break"></span>Características</h2>
											</div>
										<div class="box-content" >
											<table class="table" id="tabela_caracteristicas">
												  <thead>
													  <tr>
														  <th>Característica</th>
														  <th>Excluir</th>
														  <th>Valores</th>                                      
													  </tr>
												  </thead>   
												  <tbody>
													                         
												  </tbody>
											</table>  
										</div>     
									</div>

								</div>	
								<div id="actions" style="clear: left; float: left; position: relative; left: 80%; ">
									<button id="salvar"  class="btn btn-primary">Salvar</button>
									<button type="reset" class="btn">Limpar</button>
								</div>
							  </div>
							
								
							</fieldset>
						</form>
					</div>
				</div>
			</div><!--/span-->
		</div>
	</div>
	
	<style>
		.selecionada{
			border-color: red;
			border-style:dashed;
			border-width: 3px;
		}
	</style>

	<div id="dialog" style="display:none" title="Selecione" >
		<img width="50"  class="img" title="prata" height="50" src="http://greenhousemoveis.com.br/wp-content/uploads/2016/06/Alumínino-Branco-Fosco-150x150.jpg"/>
		<img width="50" class="img" height="50" src="http://greenhousemoveis.com.br/wp-content/uploads/2016/06/Alumínio-Amarelo-150x150.jpg"/>
		<img width="50" class="img" height="50" src="http://greenhousemoveis.com.br/wp-content/uploads/2016/06/Alumínio-Azul-Metalico-150x150.jpg"/>
	</div>

	<script>

		function loadname(img){ 
			alert("fgsdfg"); 
			var isIE = (navigator.appName=="Microsoft Internet Explorer");  
			//var path = img.value;  
			//var ext = path.substring(path.lastIndexOf('.') + 1).toLowerCase(); 
			//console.log(path);
			//console.log(ext); 
			for($i=0; $i<img.files.length; $i++){
				if(img.files[$i]){
					var reader = new FileReader();  
		            reader.onload = function (e) {  
		                $('.fotos').append('<img src="'+e.target.result +'"  class="img" height="40" width="40" alt="" />');
		            }
			        reader.readAsDataURL(img.files[$i]); 
				}
			}
			//<img src="about:blank" height:"10" width:"10"  name="previewimg2" id="previewimg" alt="" />
			/* if(ext == "gif" || ext == "jpeg" || ext == "jpg" ||  ext == "png" )  
			 {       
			   
			       if (img.files[0]) 
			        {  
			            var reader = new FileReader();  
			            reader.onload = function (e) {  
			                $('#'+ previewName).attr('src', e.target.result);  
			            }
			            reader.readAsDataURL(img.files[0]);  
			        }  
			        if (img.files[1]) 
			        {  
			            var reader = new FileReader();  
			            reader.onload = function (e) {  
			                $('#'+ previewName2).attr('src', e.target.result);  
			            }
			            reader.readAsDataURL(img.files[1]);  
			        } 
			    }  

			 }else{  
			   
			 }   */
		}  

		// function savePics(){
		// 	var names = [];
		// 	console.log($("input[name=files]").get(0).files.length);
		//     for (var i = 0; i < $("input[name=files]").get(0).files.length; ++i) {
		//     	localStorage.setItem("imgData"+i, $("input[name=files]").get(0).files[i]);     
		//     }
		// 	console.log($("input[name=files]").get(0).files[0].webkitRelativePath);
		// 	//$("figura").src("");			
		// }

		// document.getElementById("arquivos").addEventListener("change", function(event) {
		//   let output = document.getElementById("listing");
		//   let files = event.target.files;

		//   for (let i=0; i<1; i++) {
		//     let item = document.createElement("li");
		//     item.innerHTML = files[i].webkitRelativePath;
		//     output.appendChild(item);
		//     console.log(files[i]);
		//     //$("#figura").attr("src",files[i].webkitRelativePath);
		//   };
		// }, false);



		$("#salvar").click(function(event){
			alert($('#tabela_categorias tr').length);
			if($("nome").text=="" || $("pasta").text=="" || $('#tabela_categorias tr').length==1 || $('#tabela_caracteristicas tr').length==1){
				alert("faltou algo");
			}
		});
		//$('body').on('click', 'a.myclass', function() {
		$("body").on("click", ".img" , function(event){
			if($(this).hasClass("selecionada")){
				$(this).removeClass("selecionada");
			}else{
				$(this).addClass("selecionada");
			}
		});

		function addRowCat(){
     		if($("#tabela").css('display')=='none'){
     			if($("#selectError").val()!= ""){
     				console.log($("#selectError").val());
     				$("#tabela").show();
     			}
     		}
     		if($("#selectError").val()!= ""){		
     			$('#tabela_categorias tr:last').after('<tr> <td>'+$("#selectError").val()+'</td> <td><a class="btn btn-danger" ><i class="icon-trash "></i> </a></td>');
     		}
     	}

     	function addRowCar(){
     		if($("#tabela2").css('display')=='none'){
     			if($("#selectError2").val()!= ""){
     				console.log($("#selectError2").val());
     				$("#tabela2").show();
     			}
     		}
     		if($("#selectError2").val()!= ""){		
     			$('#tabela_caracteristicas tr:last').after('<tr> <td>'+$("#selectError2").val()+'</td> <td><a class="btn btn-danger" ><i class="icon-trash "></i> </a> </td><td><a class="btn btn-info" href="#" onclick="openCar()"><i class="icon-edit "></i></a></td></tr>');
     		}
     	}

		$( "#dialog" ).dialog({
			autoOpen: false,
			width: 400,
			buttons: [
				{
					text: "Salvar",
					click: function() {
						$( this ).dialog( "close" );
						console.log($(this).children());
					}
				},
				{
					text: "Cancelar",
					click: function() {
						$( this ).dialog( "close" );
					}
				}
			]
		});

		// Link to open the dialog
		function openCar(){
			$( "#dialog" ).dialog( "open" );
		};


	</script>

<!-- start: JavaScript-->
	<script src="js/jquery-migrate-1.2.1.min.js"></script>	
		<script src="js/jquery-ui-1.10.3.custom.min.js"></script>	
		<script src="js/jquery.ui.touch-punch.js"></script>	
		<script src="js/modernizr.js"></script>	
		<script src="js/bootstrap.min.js"></script>	
		<script src="js/jquery.cookie.js"></script>	
		<script src='js/fullcalendar.min.js'></script>	
		<script src='js/jquery.dataTables.min.js'></script>
		<script src="js/excanvas.js"></script>
	<script src="js/jquery.flot.js"></script>
	<script src="js/jquery.flot.pie.js"></script>
	<script src="js/jquery.flot.stack.js"></script>
	<script src="js/jquery.flot.resize.min.js"></script>
	<script src="js/jquery.flot.time.js"></script>
		
		<script src="js/jquery.chosen.min.js"></script>	
		<script src="js/jquery.uniform.min.js"></script>		
		<script src="js/jquery.cleditor.min.js"></script>	
		<script src="js/jquery.noty.js"></script>	
		<script src="js/jquery.elfinder.min.js"></script>	
		<script src="js/jquery.raty.min.js"></script>	
		<script src="js/jquery.iphone.toggle.js"></script>	
		<script src="js/jquery.uploadify-3.1.min.js"></script>	
		<script src="js/jquery.gritter.min.js"></script>	
		<script src="js/jquery.imagesloaded.js"></script>	
		<script src="js/jquery.masonry.min.js"></script>	
		<script src="js/jquery.knob.modified.js"></script>	
		<script src="js/jquery.sparkline.min.js"></script>	
		<script src="js/counter.min.js"></script>	
		<script src="js/raphael.2.1.0.min.js"></script>
	<script src="js/justgage.1.0.1.min.js"></script>	
		<script src="js/jquery.autosize.min.js"></script>	
		<script src="js/retina.js"></script>
		<script src="js/jquery.placeholder.min.js"></script>
		<script src="js/wizard.min.js"></script>
		<script src="js/core.min.js"></script>	
		<script src="js/charts.min.js"></script>	
		<script src="js/custom.min.js"></script>
	<!-- end: JavaScript-->
	
</body>
</html>